<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>پوستر یادگیری زبان کوردی</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: #f0f4f8;
            padding: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/e/ec/Kurdistan_Village_view.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            position: relative;
        }
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.85); /* Semi-transparent overlay for readability */
            z-index: 1;
        }
        .poster-container {
            width: 100%;
            max-width: 800px;
            background-color: #ffffff;
            border-radius: 1.5rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            padding: 3rem;
            position: relative;
            overflow: hidden;
            border: 2px solid #e2e8f0;
            z-index: 2;
            padding-top:10rem; /* Space for the fixed header */
        }
        .header-box {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 10;
            background: linear-gradient(to right, #008852, #e0e0e0, #ee1b24);
            border-radius: 0 0 1.5rem 1.5rem;
            padding: 1.5rem 2.5rem;
            text-align: center;
            color: #1f2937;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .header-box h1 {
            font-size: 1.5rem;
            font-weight: bold;
            line-height: 2rem;
            color: #1f2937;
        }
        .header-box p {
            font-size: 0.75rem;
            line-height: 1rem;
            margin-top: 0.5rem;
            text-align: center;
            color: #374151;
        }

        .section-title {
            font-size: 2rem;
            font-weight: bold;
            color: #1a202c;
            margin-top: 2rem;
            margin-bottom: 1rem;
            text-align: center;
            border-bottom: 2px solid #cbd5e1;
            padding-bottom: 0.5rem;
        }

        .section-text {
            line-height: 2rem;
            text-align: justify;
            color: #4b5563;
        }

        .sub-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2d3748;
            margin-top: 1.5rem;
        }

        .list-item {
            margin-bottom: 0.5rem;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
            font-size: 0.95rem;
            border-radius: 0.75rem;
            overflow: hidden;
        }

        th, td {
            border: 1px solid #e2e8f0;
            padding: 1rem;
            text-align: right;
            vertical-align: top;
        }

        th {
            background-color: #f7fafc;
            font-weight: bold;
            color: #333;
        }
        .audio-button {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
            vertical-align: middle;
            margin-right: 0.5rem;
            display: inline-block;
        }
        .audio-button svg {
            width: 1.25rem;
            height: 1.25rem;
            fill: #333;
        }
        
        .footer-note {
            background-color: #f1f5f9;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-top: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
        }
        .forbidden-chars {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: bold;
            margin-right: 1.5rem;
            flex-shrink: 0;
        }
        .footer-banner {
            background-color: #1f2937;
            color: white;
            text-align: center;
            padding: 1rem;
            margin-top: 2.5rem;
            border-radius: 1rem;
        }
        .qr-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 3rem;
            text-align: center;
        }
        .qr-container {
            display: flex;
            flex-direction: row;
            justify-content: center;
            gap: 2rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }
        .qr-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #fafafa;
            padding: 1rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        .qr-item p {
            margin-top: 0.5rem;
            font-weight: bold;
            color: #333;
        }
        .api-section {
            background-color: #e3f2fd;
            border-radius: 1rem;
            padding: 2rem;
            margin-top: 2.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .api-title {
            font-size: 1.75rem;
            font-weight: bold;
            color: #1a202c;
            text-align: center;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        .convert-button {
            background-color: #2563eb;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        .convert-button:hover {
            background-color: #1e40af;
        }

        @keyframes flag-gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { transform: rotate(360deg); }
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @media (max-width: 640px) {
            .poster-container {
                padding: 1rem;
            }
            .header-box h1 {
                font-size: 1rem;
            }
            .header-box p {
                font-size: 0.65rem;
            }
            .section-title {
                font-size: 1.5rem;
            }
            .qr-container {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>

<div class="header-box">
    <h1>ڕێبەری یەک لاپەڕەیی بۆ نووسین بە کوردی/راهنمایِ یک صفحه‌ای برای نگارش صحیح کوردی.</h1>
    <p class="text-sm">این صفحه، یک خودآموز سریع برای یادگیری الفبا و نوشتار کوردی است و برای آن دسته از کوردزبانانی طراحی شده که آموزش رسمی آن‌ها به زبان فارسی بوده است. بسته به سطح و پیشینه زبانی خود، می‌توانید تنها با صرف چند دقیقه در این صفحه، اشکالات نگارشی‌تان در نوشتار کوردی را برطرف کرده یا آن را بهبود ببخشید</p>
    <p>تحقیق و توسعه: سهراب احمدیان</p>
</div>

<div class="poster-container">
    <p class="section-text mt-4">
        زبان، اساسی‌ترین مؤلفه فرهنگی و هویت هر جامعه است. جلوگیری از فرسایش تدریجی زبان کوردی، علاوه بر ضرورت رفع قوانین و رویه‌های تبعیض‌آمیز سیستمی در سطح کلان، نیازمند تلاش‌های فردی، هرچند کوچک، از جانب هر یک از ماست.
تبادل پیامک‌های متنی رویدادی است که همه ما روزانه آن را تجربه می‌کنیم. اما نکته قابل تأمل اینجاست که در اغلب موارد، ما از زبانی غیر از کوردی برای این ارتباطات استفاده می‌کنیم، یا زبان کوردی را به شیوه‌های نوشتاری نادرست به کار می‌بریم. بسیاری از ما به یک یا چند زبان خارجی مسلطیم، اما در نگارش به زبان مادری خود با مشکلات جدی مواجهیم.
! </p>
    <p class="section-text mt-4">
       چه بسا افرادی که دارای مدارک دانشگاهی هستند و به زبان‌های دیگر مقالات علمی- پژوهشی می‌نویسند، اما شاید به دلایل متنوعی نظیر پراکندگی و پیچیدگی منابع آموزشی موجود (یا حتی برداشت و ذهنیت موجود در این زمینه)، هرگز فرصت ،امکان یا انگیزه کافی برای تمرین نگارش صحیح به زبان مادری خود را پیدا نکرده‌اند.
با توجه به مواجهه روزانه با این چالش، بر آن شدم تا راهکاری ارائه دهم که گویشوران زبان کوردی که زبان آموزش رسمی آن‌ها فارسی بوده است، با صرف کمترین زمان و هزینه، توانایی خواندن و نوشتن به زبان مادری خود را بیاموزند یا بهبود بخشند. راه‌اندازی این صفحه، تلاشی کاملاً خودجوش و شخصی در همین راستا است.
    </p>

    <h3 class="sub-title">۱. حروف مشترک (بخش بزرگی از الفبا):</h3>
    <p class="section-text">
        بیشتر حروفی که در فارسی استفاده می‌کنید، در زبان کوردی نیز با همان شکل و صدا وجود دارند. مانند:
        <br>
        ا، ب، پ، ت، ج، چ، ح، خ، د، ز، ژ، س، ش، ع، غ، ف، ق، ک، گ، ل، م، ن، هـ، ی.
    </p>

    <h3 class="sub-title">۲. حروف کوردی که متفاوت از حروف فارسی نوشته یا تلفظ می شوند:</h3>
    <p class="section-text">
        - در زبان کوردی، تمام حروف صدادار (مصوت‌ها) به صورت یک حرف کامل نوشته می‌شوند و برخلاف فارسی، از اعراب (فتحه، کسره، ضمه) استفاده نمی‌شود. این کار خواندن کلمات را بسیار آسان‌تر می‌کند.
    </p>

    <h3 class="sub-title">جدول حروف متفاوت از الفبای فارسی</h3>
    <table>
        <thead>
            <tr>
                <th>فارسی (با اعراب)</th>
                <th>کوردی (بدون نیاز به اعراب)</th>
                <th>توضیح</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>اَحمَد</td>
                <td>ئەحمەد</td>
                <td>صدای فتحه (ـَ) با « ە » در آغاز کلمه و «ــە» در مابین یا آخر کلمات نوشته می شود .</td>
            </tr>
            <tr>
                <td>سُهراب</td>
                <td>سۆهراب</td>
                <td>صدای ضمه (ـُ) به صورت حرف و با «ۆ» نشان داده می شود .</td>
            </tr>
            <tr>
                <td>بِهزاد</td>
                <td>بێهزاد</td>
                <td>صدای کسره (ـِ) با حرفی به شکل «ێ» نوشته می شود اما در کوردی کشیده تر تلفظ می شود</td>
            </tr>
            <tr>
                <td>آزادی</td>
                <td>ئازادی</td>
                <td>الف همزه در اول کلمات به صورت « ئـ » نوشته می شود.</td>
            </tr>
            <tr>
                <td>پروژه</td>
                <td>پڕۆژە</td>
                <td>« ڕ » (رایِ لرزشی): این «ر» به صورت لرزشی و با شدت بیشتری تلفظ می‌شود.</td>
            </tr>
            <tr>
                <td>تلویزیون</td>
                <td>تەلەڤیزیۆن</td>
                <td>ڤ (ڤـ): این حرف دقیقاً صدای حرف "V" در انگلیسی را می‌دهد.</td>
            </tr>
            <tr>
                <td>پرچم</td>
                <td>ئاڵا</td>
                <td>ڵ (لام غلیظ): این حرف، صدای لام را به صورت غلیظ‌تر و پرحجم‌تر تلفظ می‌کند.</td>
            </tr>
            <tr>
                <td>نوشتن</td>
                <td>نووسین</td>
                <td>وو (اویِ کشیده): این هم یک حرف صدادار بلند است که صدایی شبیه به  دو"O" پشت سر هم  در انگلیسی می‌دهد. مثل «oo »  در "Book"</td>
            </tr>
        </tbody>
    </table>
    
    <h3 class="sub-title mt-4">۴. حروفی که در کوردی استفاده نمی‌شوند:</h3>
    <div class="footer-note">
        <div>
            <p class="section-text">
                حروف عربی مانند (ث، ح، ذ، ص، ض، ط، ظ) در نوشتار استاندارد کوردی استفاده نمی‌شوند و به‌جای آن‌ها از معادل‌های ساده‌تر آوایی استفاده می‌شود:
            </p>
            <ul class="list-disc list-inside">
                <li>به جای «ث، ص، س» از «س» استفاده می‌شود.</li>
                <li>به جای «ذ، ز، ض، ظ» از «ز» استفاده می‌شود.</li>
                <li>به جای «ط» از «ت» استفاده می‌شود.</li>
            </ul>
        </div>
    </div>

    <h3 class="sub-title mt-4">نکات پایانی برای تمرین:</h3>
    <ul class="list-decimal list-inside section-text">
        <li class="list-item"><strong>به صداها فکر کنید:</strong> به جای فکر کردن به املای فارسی، به صدایِ کلمه کوردی گوش دهید و حرفِ کوردیِ معادلِ آن صدا را بنویسید.</li>
        <li class="list-item"><strong>خواندن را شروع کنید:</strong> شروع به خواندن متن‌های ساده کوردی (اخبار، داستان کوتاه) کنید. این کار چشم شما را به شکل کلمات عادت می‌دهد.</li>
        <li class="list-item"><strong>تمرین نوشتن کنید:</strong> کلمات و جملات ساده را بنویسید تا دستتان روان شود.</li>
    </u`l>

    <p class="section-text mt-4">
        شما با دانستن الفبای فارسی یا عربی، ۹۰٪ حروف الفبای کوردی (رسم الخط آرامی) را نیز آموخته اید!  با کمی تمرین روی این چند تفاوت کلیدی، به سرعت می‌توانید به زبان مادری خود روان و صحیح بنویسید و بخوانید.
    </p>
    
    <div class="api-section">
        <h3 class="api-title">ابزار تمرین کوردی ✨</h3>
        <p class="text-gray-600 mb-4 text-center"> حالا برای تمرین کلمات یا جملاتی با استفاده از کیبورد کوردی بنویس و دکمه **بررسی** را بزن تا این ابزارک اشتباهات املایی شما را مشخص کند.</p>
        <div class="flex flex-col md:flex-row items-center gap-4">
            <textarea id="kurdishPracticeInput" placeholder="متن کوردی را اینجا بنویسید..." class="flex-grow w-full md:w-auto px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-24"></textarea>
        </div>
        <div class="mt-2 text-center">
            <button id="checkButton" class="convert-button bg-blue-600 hover:bg-blue-700">
                <span>بررسی</span>
            </button>
        </div>
        <div class="mt-4 p-4 bg-white rounded-md border border-gray-200 min-h-[5rem]">
            <p class="font-bold text-gray-800">نوشتار صحیح:</p>
            <div id="correctedTextOutput" class="mt-2 text-xl font-vazirmatn text-green-700 leading-10"></div>
            <div id="practiceSpinner" class="hidden loading-spinner mt-2 mx-auto"></div>
        </div>
    </div>
    
    <div class="qr-section">
        <h3 class="sub-title">کیبورد کوردی را نصب کنید</h3>
        <p class="section-text">
            برای شروع، Gboard (کیبورد گوگل) را نصب کنید. این کیبورد زبان کوردی را پشتیبانی می‌کند.
        </p>
        <div class="qr-container">
            <div class="qr-item">
                <img src="https://api.qrserver.com/v1/create-qr-code/?data=https://play.google.com/store/apps/details?id=com.google.android.inputmethod.latin&size=120x120" width="120" height="120" alt="QR Code for Gboard on Android">
                <p>برای اندروید</p>
            </div>
            <div class="qr-item">
                <img src="https://api.qrserver.com/v1/create-qr-code/?data=https://apps.apple.com/us/app/gboard-the-google-keyboard/id1091778112" width="120" height="120" alt="QR Code for Gboard on iOS">
                <p>برای iOS</p>
            </div>
        </div>
    </div>


    <div class="footer-banner">
        <p class="text-sm">حالا شما برای یادگیری بهتر تنها به تمرین بیشتر نیاز دارید.</p>
        <p class="text-xs mt-1">توسعه دهنده: سهراب احمدیان</p>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Gemini API configuration
        // !!! IMPORTANT: Replace "YOUR_API_KEY" with your actual API key
        // Get your free API key from Google AI Studio: https://aistudio.google.com/app/apikey
        const API_KEY = "AIzaSyCjAwM4112YqY2bpYNXN1D1MfVe-uRk_3E";
        const CONVERT_MODEL = "gemini-2.5-flash-preview-05-20";
        const CONVERT_URL = `https://generativelanguage.googleapis.com/v1beta/models/${CONVERT_MODEL}:generateContent?key=${API_KEY}`;
        const RETRY_COUNT = 5;
        const RETRY_DELAY = 2000;

        const kurdishPracticeInput = document.getElementById('kurdishPracticeInput');
        const correctedTextOutput = document.getElementById('correctedTextOutput');
        const practiceSpinner = document.getElementById('practiceSpinner');
        const checkButton = document.getElementById('checkButton');

        // Helper function for exponential backoff retry
        async function fetchWithRetry(url, options, retries = RETRY_COUNT) {
            try {
                const response = await fetch(url, options);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return await response.json();
            } catch (error) {
                if (retries === 0) {
                    throw error;
                }
                console.warn(`Fetch failed, retrying in ${RETRY_DELAY}ms...`);
                await new Promise(resolve => setTimeout(resolve, RETRY_DELAY));
                return fetchWithRetry(url, options, retries - 1);
            }
        }
        
        // Function to check and correct Kurdish spelling and grammar
        async function checkKurdishSpelling(text) {
            if (!text || text.trim() === "") {
                correctedTextOutput.innerHTML = "";
                return;
            }

            practiceSpinner.classList.remove('hidden');
            checkButton.disabled = true;
            
            // The prompt has been updated to request grammatical corrections as well.
            const prompt = `متن کوردی زیر را از نظر املایی و دستوری بررسی و به خط کوردی استاندارد سورانی اصلاح کن. اگر کلمات یا حروف اضافه دستوری کم بود، آن‌ها را اضافه کن. تنها متن صحیح و کامل را بنویس و هیچ توضیح اضافه‌ای نده. متن: ${text}`;
            const payload = {
                contents: [{
                    parts: [{
                        text: prompt
                    }]
                }]
            };

            const options = {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            };

            try {
                const result = await fetchWithRetry(CONVERT_URL, options);
                const correctedText = result?.candidates?.[0]?.content?.parts?.[0]?.text;
                if (correctedText) {
                    const originalWords = text.trim().split(/\s+/);
                    const correctedWords = correctedText.trim().split(/\s+/);
                    let htmlOutput = '';
                    let j = 0; // Index for correctedWords
                    for (let i = 0; i < originalWords.length; i++) {
                        let wordFound = false;
                        let lookAheadLimit = Math.min(j + 5, correctedWords.length);
                        
                        // Look ahead in the corrected words to find a match
                        for (let k = j; k < lookAheadLimit; k++) {
                            if (originalWords[i] === correctedWords[k]) {
                                // Add any new words in between
                                for (let l = j; l < k; l++) {
                                    htmlOutput += `<span class="text-red-500 font-bold">${correctedWords[l]}</span> `;
                                }
                                htmlOutput += `${correctedWords[k]} `;
                                j = k + 1;
                                wordFound = true;
                                break;
                            }
                        }

                        // If no match is found, the word might be incorrect or a deletion
                        if (!wordFound) {
                            if (j < correctedWords.length) {
                                htmlOutput += `<span class="text-red-500 font-bold">${correctedWords[j]}</span> `;
                                j++;
                            } else {
                                htmlOutput += `<span class="text-red-500 font-bold">${originalWords[i]}</span> `;
                            }
                        }
                    }

                    // Append any remaining corrected words that were additions at the end
                    while (j < correctedWords.length) {
                         htmlOutput += `<span class="text-red-500 font-bold">${correctedWords[j]}</span> `;
                         j++;
                    }
                    
                    correctedTextOutput.innerHTML = htmlOutput.trim();

                } else {
                    correctedTextOutput.textContent = "خطا در بررسی املا. لطفاً دوباره تلاش کنید.";
                }
            } catch (error) {
                console.error("Error with spelling check API:", error);
                correctedTextOutput.textContent = "خطا در ارتباط با API. لطفاً بعداً تلاش کنید.";
            } finally {
                practiceSpinner.classList.add('hidden');
                checkButton.disabled = false;
            }
        }

        checkButton.addEventListener('click', () => {
            const text = kurdishPracticeInput.value;
            checkKurdishSpelling(text);
        });
    });
</script>

</body>
</html>





